(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"02ac":function(t,a,e){t.exports=e.p+"static/img/loca.530f2914.png"},1237:function(t,a,e){"use strict";var i;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticStyle:{height:"100%"}},[t.cstm_or_sp?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content1"},[i("v-uni-view",{staticClass:"get_loc",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.get_location()}}},[i("v-uni-image",{staticStyle:{height:"50rpx",width:"50rpx"},attrs:{src:e("02ac")}})],1),i("v-uni-view",{staticClass:"search-block"},[i("v-uni-view",{staticClass:"search-ico-wapper"},[i("v-uni-image",{staticClass:"search-ico",attrs:{src:e("9a11"),mode:""}})],1),i("v-uni-input",{staticClass:"search-text",attrs:{type:"text",value:"",placeholder:" 一切美食,尽在小橘子!",maxlength:"10",focus:!0},model:{value:t.search_content,callback:function(a){t.search_content=a},expression:"search_content"}})],1),i("v-uni-button",{staticClass:"button-search",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.search_goto()}}},[t._v("搜索")])],1),i("v-uni-view",{staticClass:"swiper_all"},[i("v-uni-swiper",{staticClass:"img_out",attrs:{circular:!0,"indicator-dots":!0,mode:"widthFix",autoplay:"true",interval:"2000"}},t._l(t.swipers,(function(a){return i("v-uni-swiper-item",[i("v-uni-image",{staticClass:"swp_img",attrs:{src:a.url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.swiper_to_shop(a.shop_name)}}})],1)})),1)],1),i("v-uni-view",{staticClass:"home-card"},t._l(t.infos,(function(a){return i("v-uni-view",{staticClass:"list"},[i("img",{staticClass:"img_style",attrs:{src:a.logo},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto_shop(a)}}}),i("div",{staticClass:"describe",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto_shop(a)}}},[i("p",{staticClass:"p_1"},[t._v(t._s(a.name))]),i("p",{staticClass:"p_2"},[t._v(t._s(a.credit)+"分")]),i("p",{staticClass:"p_3"},[t._v("月售"+t._s(a.sale))]),i("p",{staticClass:"p_3"},[i("v-uni-text",[t._v("起送")]),i("v-uni-text",{staticStyle:{color:"#db5a6b"}},[t._v("￥"+t._s(a.thresholdprice))])],1)]),i("div",{staticClass:"time",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto_shop(a)}}},[i("p",{staticClass:"p_4"},[t._v(t._s(a.needytime)+"分钟")]),i("p",{staticClass:"p_5"},[t._v(t._s(a.distance)+"km")])])])})),1)],1):t._e(),1!=t.cstm_or_sp?i("v-uni-view",{staticStyle:{height:"100%"}},[i("v-uni-view",{staticClass:"topic"},[i("v-uni-image",{staticClass:"logo_sp",attrs:{src:t.logo}}),i("v-uni-text",{staticClass:"shopName"},[t._v(t._s(t.name))]),i("div",{staticStyle:{display:"flex"}},[i("v-uni-text",{staticClass:"topic_text",attrs:{space:"ensp"}},[t._v("月售"+t._s(t.sale))]),i("v-uni-view",{staticClass:"btn_add"},[i("v-uni-button",{staticClass:"p_add",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.add_item.apply(void 0,arguments)}}},[t._v("添加菜品")])],1)],1)],1),i("div",{staticClass:"line1"}),i("div",{staticStyle:{display:"flex"}},[i("p",{staticStyle:{"font-size":"35rpx","margin-left":"10rpx","margin-top":"20rpx",color:"#b0a7d7","border-radius":"10rpx",width:"155rpx","text-align":"center","font-weight":"600"}},[t._v("菜品分类")]),i("p",{staticStyle:{"font-size":"35rpx","margin-left":"200rpx","margin-top":"20rpx",color:"#b0a7d7","border-radius":"10rpx",width:"155rpx","text-align":"center","font-weight":"600"}},[t._v("菜品详情")])]),i("v-uni-view",{staticStyle:{height:"80%",display:"flex","margin-top":"20rpx"}},[i("v-uni-scroll-view",{staticClass:"cate_pos_left",attrs:{"scroll-y":"true"}},t._l(t.categories,(function(a,e){return i("v-uni-view",{class:t.active===e?"active_list":"list_sp",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.leftClickHandle(e)}}},[i("v-uni-view",{class:t.active===e?"active_p_5":"p_5_sp"},[t._v(t._s(a.category))])],1)})),1),i("v-uni-scroll-view",{staticClass:"dish_pos_right",attrs:{"scroll-y":"true","scroll-into-view":t.active_id},on:{scroll:function(a){arguments[0]=a=t.$handleEvent(a),t.rightScroll.apply(void 0,arguments)}}},[t._l(t.categories,(function(a,e){return i("v-uni-view",{key:e,staticClass:"right_box",attrs:{id:"category"+e}},t._l(a.dishes,(function(a,e){return i("v-uni-view",{key:e,staticClass:"list_2",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.change_good(a)}}},[i("img",{staticClass:"img_style_sp",attrs:{src:a.logo,mode:"aspectFit"}}),i("div",{staticClass:"describe"},[i("p",{staticClass:"p_1_sp"},[t._v(t._s(a.name))]),i("p",{staticClass:"p_2_sp"},[t._v(t._s(a.description))]),i("p",{staticClass:"p_3_sp"},[t._v("销量:"+t._s(a.sale))]),i("p",{staticClass:"p_4_sp"},[t._v("¥"+t._s(a.price))]),i("p",{staticStyle:{position:"relative",left:"160rpx",bottom:"40rpx"}},[t._v("库存:"+t._s(a.stock))])])])})),1)})),i("v-uni-view",{staticClass:"bottom_hint"},[t._v("已经到底了！")])],2)],1)],1):t._e()],1)},o=[]},1482:function(t,a,e){var i=e("b9b1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("0b3576f6",i,!0,{sourceMap:!1,shadowMode:!1})},"275e":function(t,a,e){"use strict";(function(t){e("99af"),e("4160"),e("ac1f"),e("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={data:function(){return{search_content:"",swipers:[{shop_name:"肯德基",url:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwx3.sinaimg.cn%2Flarge%2F001QcfDygy1gyhwv3uwv1j60ru0fowiy02.jpg&refer=http%3A%2F%2Fwx3.sinaimg.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1662966717&t=e06074382f7891df18af746e56822534"},{shop_name:"星巴克专星送",url:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Finews.gtimg.com%2Fnewsapp_bt%2F0%2F11072012838%2F641.jpg&refer=http%3A%2F%2Finews.gtimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1662966799&t=531da38a6586009ba571d90383635271"},{shop_name:"星巴克专星送",url:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F0156726107918911013eaf704b3222.jpg%401280w_1l_2o_100sh.jpg&refer=http%3A%2F%2Fimg.zcool.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1662972171&t=6c16760c4faac1aa82fdf28bccd23127"}],infos:"",key:"",cstm_or_sp:"",name:"",logo:"",sale:"",categories:[],active:0,active_id:"",rightHeightList:[],add_icon:"/static/add.png"}},onShow:function(){var a=this;this.cstm_or_sp=getApp().globalData.cstm_or_sp,t("log","确定状态"," at pages/index/index.vue:163"),t("log",this.cstm_or_sp," at pages/index/index.vue:164"),1==this.cstm_or_sp?uni.request({url:getApp().globalData.shop_getAllShopInfo,method:"GET",data:{},header:{},success:function(e){t("log","开始打印"," at pages/index/index.vue:178"),t("log",e.data.length," at pages/index/index.vue:179"),t("log",e," at pages/index/index.vue:180"),a.infos=e.data}}):(uni.request({url:getApp().globalData.business_getAllGoods,method:"GET",data:{},header:{token:getApp().globalData.token},success:function(e){t("log","开始打印/business/getAllGoods接口"," at pages/index/index.vue:195"),t("log",e," at pages/index/index.vue:196"),a.name=e.data.name,a.logo=e.data.logo,a.sale=e.data.sale,a.categories=e.data.categories}}),setTimeout((function(){a.getHeightList()}),2e3))},methods:{onPullDownRefresh:function(){t("log","refresh"," at pages/index/index.vue:212"),setTimeout((function(){uni.stopPullDownRefresh()}),1500)},swiper_to_shop:function(t){this.key=getApp().globalData.login_key,1==this.key?uni.navigateTo({url:"/pages/index/shop?name="+t}):uni.navigateTo({url:"/pages/login/login_username"})},goto_shop:function(a){this.key=getApp().globalData.login_key,1==this.key?(t("log","前往商铺"," at pages/index/index.vue:234"),t("log",a.name," at pages/index/index.vue:235"),uni.navigateTo({url:"/pages/index/shop?name="+a.name})):uni.navigateTo({url:"/pages/login/login_username"})},search_goto:function(){t("log","这是要搜索的内容"," at pages/index/index.vue:247"),t("log",this.search_content," at pages/index/index.vue:248"),uni.navigateTo({url:"/pages/index/search?search_content="+this.search_content})},leftClickHandle:function(t){this.active=t,this.active_id="category"+t},getHeightList:function(){var a=this,e=uni.createSelectorQuery().in(this);e.selectAll(".right_box").boundingClientRect((function(e){var i=[0],n=0;e.forEach((function(t){n+=t.height,i.push(n)})),a.rightHeightList=i,t("log","打印右侧数据高度数组:",a.rightHeightList," at pages/index/index.vue:271")})).exec()},rightScroll:function(t){for(var a=t.detail.scrollTop,e=0;e<this.rightHeightList.length;e++){var i=this.rightHeightList[e],n=this.rightHeightList[e+1];a>=i&&a<n&&(this.active=e)}},add_item:function(){uni.navigateTo({url:"/pages/index/add_good"})},change_good:function(t){uni.navigateTo({url:"/pages/index/change_good?good_name="+t.name})},get_location:function(){t("log","开始定位"," at pages/index/index.vue:300");uni.getLocation({type:"wgs84",success:function(a){t("log",a," at pages/index/index.vue:305"),t("log","当前位置的经度："+a.longitude," at pages/index/index.vue:306"),t("log","当前位置的纬度："+a.latitude," at pages/index/index.vue:307"),this.longitude=a.longitude,this.latitude=a.latitude;var e=this.longitude,i=this.latitude;uni.request({url:"https://api.map.baidu.com/reverse_geocoding/v3/",data:{output:"json",location:"".concat(i,",").concat(e),ak:"ymrWo3nwuxL08RBwkKfRBsxC2NIHjF0v",extensions:"base",batch:!1},success:function(a){t("log","通过经纬度逆地址解析",a," at pages/index/index.vue:322"),t("log",a.data.result.formatted_address," at pages/index/index.vue:323"),uni.request({method:"GET",url:getApp().globalData.customer_changeAddress,data:{data:a.data.result.formatted_address},header:{token:getApp().globalData.token},success:function(a){t("log",a," at pages/index/index.vue:334"),1==a.data.code?uni.showToast({title:"定位成功",icon:"exception",duration:850}):uni.showToast({title:"定位失败",icon:"error",duration:850})}})}})}})}}};a.default=i}).call(this,e("0de9")["log"])},4818:function(t,a,e){"use strict";e.r(a);var i=e("275e"),n=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a},"9a11":function(t,a,e){t.exports=e.p+"static/img/search.cd23a23b.png"},ad02:function(t,a,e){"use strict";var i=e("1482"),n=e.n(i);n.a},b7f5:function(t,a,e){"use strict";e.r(a);var i=e("1237"),n=e("4818");for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("ad02");var s,r=e("f0c5"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"3476d73c",null,!1,i["a"],s);a["default"]=c.exports},b9b1:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.pic_block[data-v-3476d73c]{margin-left:25px;border-radius:100px}.name_style[data-v-3476d73c]{font-size:30px;margin-top:-20px}.evalute_style[data-v-3476d73c]{color:#ff8c00;font-size:20px;margin-top:3px}.number_style[data-v-3476d73c]{color:#8f8f94;margin-top:10px}.pay_style[data-v-3476d73c]{color:#8f8f94;margin-top:10px}.time[data-v-3476d73c]{color:#8f8f94;margin-top:10px}.button-search[data-v-3476d73c]{width:%?130?%;height:%?60?%;border-radius:25px;position:relative;left:%?0?%;top:%?40?%;margin:%?0?%;\r\n  /* background:linear-gradient(to right, #fefa83,#b0a7d7) ; */background-color:#fefa83;border-color:%?10?% solid #fefa83;font-size:13px}.bg-click[data-v-3476d73c]{background-color:#b0a7d7}\r\n/* 清除uniapp button按钮默认样式（去掉边框） */.content1[data-v-3476d73c]{height:%?130?%;display:flex}.get_loc[data-v-3476d73c]{height:%?80?%;width:%?80?%;position:relative;left:%?40?%;top:%?30?%;display:flex;align-items:center;justify-content:center}uni-page-body[data-v-3476d73c]{height:100%}\r\n/* 搜索框 */.search-ico[data-v-3476d73c]{width:%?40?%;height:%?40?%;position:relative;top:%?10?%}.search-text[data-v-3476d73c]{background-color:#f4f5f5;font-size:14px;height:%?60?%;width:%?420?%;margin-left:%?0?%}.search-block[data-v-3476d73c]{display:flex;flex-direction:row;position:relative;top:%?40?%;left:%?50?%;height:%?60?%;width:%?480?%}.search-ico-wapper[data-v-3476d73c]{background-color:#f4f5f5;padding:%?0?% %?0?% %?1?% %?40?%;border-bottom-left-radius:18px;border-top-left-radius:18px}.swiper_all[data-v-3476d73c]{\r\n  /* height: 100%; */width:80%;height:180px;\r\n  /* \t\t\theight: 9/16*100vw; */text-align:center;box-shadow:100 10 10 100px #ff557f;background-color:#f4f4f4;margin-left:10%;margin-right:10%}.img_out[data-v-3476d73c]{width:100%;height:100%}.home-card[data-v-3476d73c]{background-color:#fff}.swp_img[data-v-3476d73c]{width:100%;height:100%;margin-left:%?10?%;margin-top:%?10?%;margin-bottom:%?10?%;margin-right:%?10?%}p[data-v-3476d73c]{text-align:left}.p_1[data-v-3476d73c]{font-size:%?50?%;margin-left:%?19?%}.p_2[data-v-3476d73c]{font-size:%?40?%;color:#ffb420;margin-left:%?19?%}.p_3[data-v-3476d73c]{font-size:%?40?%;color:#8f96a0;margin-left:%?19?%}.p_4[data-v-3476d73c]{font-size:%?40?%;color:#8f96a0;position:absolute;left:%?550?%;margin-top:%?-35?%}.p_5[data-v-3476d73c]{font-size:%?40?%;color:#8f96a0;position:absolute;left:%?550?%;margin-top:%?15?%}.img_style[data-v-3476d73c]{\r\n  /* \t\theight: 100rpx; */\r\n  /* \t\tobject-fit: contain; */height:%?180?%;width:%?180?%;margin:%?20?% %?0?% %?20?% %?20?%;border-radius:10%}.list[data-v-3476d73c]{align-items:center;vertical-align:center;display:flex;object-fit:fill;margin:%?20?%;border-width:100%;border:%?3?% solid #f8f8f8;box-shadow:#8f8f94;border-radius:7%;box-shadow:5.7px 3.8px 5.3px rgba(0,0,0,.04),19px 12.7px 17.9px rgba(0,0,0,.024),85px 57px 80px rgba(0,0,0,.016)}.describe[data-v-3476d73c]{margin-top:%?30?%;margin-left:%?50?%}.time[data-v-3476d73c]{\r\n  /* margin-top: 50rpx;\r\n\t\tmargin-block-start: 30rpx; */margin:auto}.content[data-v-3476d73c]{background-size:%?300?%;background-repeat:no-repeat;background-position:%?450?% %?690?%;background-attachment:fixed}uni-button[data-v-3476d73c]::after{border:none}.logo[data-v-3476d73c]{height:%?200?%;width:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-3476d73c]{display:flex;justify-content:center}.title[data-v-3476d73c]{font-size:%?36?%;color:#8f8f94}\r\n/* 以下为商家端样式 */.topic[data-v-3476d73c]{display:flex;border-color:#8f8f94}.logo_sp[data-v-3476d73c]{height:%?200?%;width:%?200?%;margin-top:%?15?%;margin-left:%?15?%;border-radius:%?20?%}.shopName[data-v-3476d73c]{display:flex;margin-top:%?15?%;font-size:%?50?%;margin-left:%?20?%;font-weight:600}.topic_text[data-v-3476d73c]{display:flex;margin-top:%?130?%;font-size:%?30?%;position:absolute;left:%?240?%;color:#8f8f94}.cate_pos_left[data-v-3476d73c]{height:100%;width:20%;display:flex;margin-left:%?10?%;background-color:#f8f8f8}.active_list[data-v-3476d73c]{align-items:center;height:%?120?%;width:%?123?%;margin-left:%?10?%;vertical-align:center;display:flex;object-fit:fill;border:%?1?% solid #f8f8f8;box-shadow:#8f8f94;border-radius:7%;box-shadow:5.7px 3.8px 5.3px rgba(0,0,0,.04),19px 12.7px 17.9px rgba(0,0,0,.024),85px 57px 80px rgba(0,0,0,.016);background-color:#fefa83}.list_sp[data-v-3476d73c]{align-items:center;height:%?120?%;width:%?120?%;margin-left:%?10?%;vertical-align:center;display:flex;object-fit:fill;background-color:#fff;border-width:100%;border-top:%?1?% solid #f8f8f8;box-shadow:#8f8f94;border-radius:7%;box-shadow:5.7px 3.8px 5.3px rgba(0,0,0,.04),19px 12.7px 17.9px rgba(0,0,0,.024),85px 57px 80px rgba(0,0,0,.016)}.p_1_sp[data-v-3476d73c]{margin-top:%?-20?%;font-size:%?35?%;width:%?260?%}.p_2_sp[data-v-3476d73c]{color:#ffb420;margin-top:%?10?%}.p_3_sp[data-v-3476d73c]{color:#8f96a0;margin-top:%?10?%}.p_4_sp[data-v-3476d73c]{color:#c83c23;margin-top:%?10?%}.p_5_sp[data-v-3476d73c]{text-align:center;width:100%;height:%?50?%;font-size:%?30?%}.active_p_5[data-v-3476d73c]{text-align:center;width:100%;height:%?50?%;font-size:%?30?%}.dish_pos_right[data-v-3476d73c]{height:100%;width:70%;display:flex}.dish_pos_right .right_box[data-v-3476d73c]{display:block;border-bottom:%?50?% solid #fff}.list_2[data-v-3476d73c]{height:%?250?%;width:100%;display:flex;margin-top:%?20?%;border-width:100%;border:%?3?% solid #f8f8f8;box-shadow:#8f8f94;border-radius:7%;box-shadow:5.7px 3.8px 5.3px rgba(0,0,0,.04),19px 12.7px 17.9px rgba(0,0,0,.024),85px 57px 80px rgba(0,0,0,.016)}.img_style_sp[data-v-3476d73c]{border-radius:20%;height:%?180?%;width:%?180?%;position:relative;top:%?20?%}.bottom_hint[data-v-3476d73c]{text-align:center;margin-top:%?100?%;font-size:%?30?%;height:%?300?%}.btn_add[data-v-3476d73c]{position:absolute}.p_add[data-v-3476d73c]{border:none;background-color:#f0e3f2;text-align:center;height:%?90?%;margin-top:%?30?%;border-radius:%?45?%;position:relative;left:%?30?%;top:%?90?%}.line1[data-v-3476d73c]{width:90%;height:%?2?%;margin:auto;color:#8f8f94}',""]),t.exports=a}}]);