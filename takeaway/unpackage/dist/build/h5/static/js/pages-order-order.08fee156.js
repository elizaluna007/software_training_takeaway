(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-order"],{"02ac":function(t,e,a){t.exports=a.p+"static/img/loca.530f2914.png"},"17a3":function(t,e,a){var i=a("a366");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("8b39e18a",i,!0,{sourceMap:!1,shadowMode:!1})},"2e0f":function(t,e,a){t.exports=a.p+"static/img/grape.5dfc5fb7.jpg"},a366:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".out_block[data-v-02538ae8]{\n\t/* \t\talign-items: center; */\n\t/* \t\tvertical-align: center; */\n\t/* \t\tobject-fit: fill; */margin:%?20?%;border-width:100%;border:%?3?% solid #bbb;box-shadow:#8f8f94;border-radius:%?20?%;box-shadow:5.7px 3.8px 5.3px rgba(0,0,0,.04),19px 12.7px 17.9px rgba(0,0,0,.024),85px 57px 80px rgba(0,0,0,.016)}.first_line[data-v-02538ae8]{display:flex;height:%?100?%}.img_style[data-v-02538ae8]{\n\t/* \t\tmargin-left: -300rpx; */width:%?80?%;height:%?80?%;margin-left:%?30?%;margin-top:%?10?%;border-radius:%?10?%}.p_1[data-v-02538ae8]{font-weight:bolder;margin-left:%?20?%;margin-top:%?15?%}.p_2[data-v-02538ae8]{color:#8f8f94;margin-top:%?15?%;position:absolute;left:%?600?%}.line[data-v-02538ae8]{background-color:#d5d3d3;width:100%;height:%?2?%;margin-top:%?30?%;margin-left:%?0?%}.content[data-v-02538ae8]{\n\n\t/* display: flex; */\n\n\t/* justify-content: flex-start; */}.img_block1[data-v-02538ae8]{display:inline-table;size:10px;width:10px;margin-left:%?10?%}.imgkiddingme[data-v-02538ae8]{border-radius:%?20?%;margin-top:%?20?%;margin-left:%?20?%}.des[data-v-02538ae8]{margin-left:%?27?%;color:#8f8f94;font-size:%?30?%;text-align:center;overflow:hidden;\n\t/* break-all(允许在单词内换行。) */word-break:break-all;\n\t/* 超出部分省略号 */text-overflow:ellipsis;\n\t/* 对象作为伸缩盒子模型显示 */display:-webkit-box;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-box-orient:vertical;\n\t/* 显示的行数 */-webkit-line-clamp:1}.order_time[data-v-02538ae8]{margin-left:%?25?%;color:#8f8f94;margin-top:%?30?%}.total[data-v-02538ae8]{margin-left:%?80?%;font-weight:600}.btn_style[data-v-02538ae8]{margin-right:%?100?%;margin-bottom:%?25?%;border-radius:%?15?%;background-color:#fefa83;text-align:center;box-shadow:%?4?% %?4?% %?2?% %?0?% #8f8f94}.btn_resp[data-v-02538ae8]{margin-top:%?10?%;margin-left:%?490?%;margin-bottom:%?25?%;border-radius:%?15?%;background-color:#fefa83;text-align:center;box-shadow:%?4?% %?4?% %?2?% %?0?% #8f8f94}.btn_responded[data-v-02538ae8]{margin-top:%?10?%;margin-left:%?490?%;margin-bottom:%?25?%;border-radius:%?15?%;\n\t/* background-color: #fefa83; */text-align:center;box-shadow:%?4?% %?4?% %?2?% %?0?% #8f8f94}.com_style[data-v-02538ae8]{\n\t/* position: relative;left: 340rpx;top: -80rpx; */border-radius:%?15?%;background-color:#fefa83;text-align:center;box-shadow:%?4?% %?4?% %?2?% %?0?% #8f8f94;height:%?58?%;margin-left:%?100?%}uni-button[data-v-02538ae8]::after{border:none}.grape[data-v-02538ae8]{width:%?400?%;height:%?400?%;position:relative;top:%?230?%;left:%?200?%}.warning[data-v-02538ae8]{position:relative;top:%?230?%;left:%?150?%}.login[data-v-02538ae8]{background-color:#fefa83; /*按钮颜色 */border-radius:%?20?%; /*按钮弧度 */width:%?300?%; /*宽度 */box-shadow:%?4?% %?4?% %?2?% %?2?% #8f8f94;position:relative;top:%?300?%;left:%?0?%}.des_icon[data-v-02538ae8]{width:%?35?%;height:%?35?%;margin-left:%?20?%;margin-top:%?5?%}.destination[data-v-02538ae8]{width:80%;margin-left:%?30?%}.second_block[data-v-02538ae8]{display:flex;align-items:center;justify-content:center}.des1[data-v-02538ae8]{font-size:%?30?%;width:%?200?%;margin-left:%?10?%;overflow:hidden;\n\t/* break-all(允许在单词内换行。) */word-break:break-all;\n\t/* 超出部分省略号 */text-overflow:ellipsis;\n\t/* 对象作为伸缩盒子模型显示 */display:-webkit-box;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-box-orient:vertical;\n\t/* 显示的行数 */-webkit-line-clamp:1}.des2[data-v-02538ae8]{color:#ffb420;font-size:%?30?%;width:%?100?%;margin-left:%?10?%;overflow:hidden;\n\t/* break-all(允许在单词内换行。) */word-break:break-all;\n\t/* 超出部分省略号 */text-overflow:ellipsis;\n\t/* 对象作为伸缩盒子模型显示 */display:-webkit-box;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-box-orient:vertical;\n\t/* 显示的行数 */-webkit-line-clamp:1}.des3[data-v-02538ae8]{font-size:%?30?%;width:%?200?%;margin-left:%?10?%;overflow:hidden;\n\t/* break-all(允许在单词内换行。) */word-break:break-all;\n\t/* 超出部分省略号 */text-overflow:ellipsis;\n\t/* 对象作为伸缩盒子模型显示 */display:-webkit-box;\n\t/* 设置或检索伸缩盒对象的子元素的排列方式 */-webkit-box-orient:vertical;\n\t/* 显示的行数 */-webkit-line-clamp:1}.needy_time[data-v-02538ae8]{margin-left:%?25?%;\n\t/* color: #8f8f94; */margin-top:%?15?%}.take_time[data-v-02538ae8]{margin-left:%?25?%;\n\t/* color: #8f8f94; */margin-top:%?15?%}.order_time1[data-v-02538ae8]{margin-left:%?25?%;\n\t/* color: #8f8f94; */margin-top:%?30?%}",""]),t.exports=e},aa49:function(t,e,a){"use strict";a("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{infos:"",infos_sp:"",key:!1,cstm_or_sp:"",code:"",msg:"",key_not:!0,rsp_status:[]}},onLoad:function(){},onShow:function(){var t=this;this.key=getApp().globalData.login_key,this.key_not=!this.key,console.log("验证11111111111111"),console.log(getApp().globalData.login_key),console.log(getApp().globalData.cstm_or_sp),1==this.key&&(this.cstm_or_sp=getApp().globalData.cstm_or_sp,1==this.cstm_or_sp?uni.request({url:getApp().globalData.order_getAllOrdersInfo,method:"GET",data:{},header:{token:getApp().globalData.token},success:function(e){console.log("开始获取订单信息onshow"),t.infos=e.data,console.log(e.data)}}):uni.request({url:getApp().globalData.business_getAllOrders,method:"GET",data:{},header:{token:getApp().globalData.token},success:function(e){console.log("开始获取商家订单信息onshow"),t.infos_sp=e.data,console.log(e.data),t.rsp_status.splice(0,t.rsp_status.length);for(var a=0;a<t.infos_sp.length;a++)"None"!=t.infos_sp[a].taketime?t.rsp_status.push(!0):t.rsp_status.push(!1);console.log("看一眼初始化结果"),console.log(t.rsp_status),console.log(t.infos_sp.length)}}));var e=getApp().globalData.pre_return_from_shop;console.log("全局kong?：",getApp().globalData.pre_return_from_shop),""!=e&&(uni.removeStorage({key:"shop_car_history"+e,success:function(t){console.log("已清除商铺:"+e+"的历史购物车信息")}}),getApp().globalData.pre_return_from_shop="",console.log("全局：",getApp().globalData.pre_return_from_shop))},methods:{onPullDownRefresh:function(){console.log("refresh"),setTimeout((function(){uni.stopPullDownRefresh()}),1500)},restart:function(t){uni.navigateTo({url:"/pages/index/shop?name="+t.name_shop})},comment:function(t){uni.navigateTo({url:"/pages/order/comment?paytime="+t.paytime+"&name_shop="+t.name_shop+"&logo_shop="+t.logo_shop})},goto:function(t){uni.navigateTo({url:"/pages/login/login_username"})},response:function(t,e){var a=this;uni.request({url:getApp().globalData.business_changeOrderStatus,method:"POST",data:{paytime:t.paytime,status:1},header:{token:getApp().globalData.token},success:function(t){console.log("开始获取改变订单状态onshow"),console.log(t),a.code=t.data.code,a.msg=t.data.msg,a.rsp_status.splice(e,1,!0),console.log("看看数字"),console.log(a.rsp_status)}});var i=new Date,s=i.getFullYear(),o=i.getMonth()+1,n=i.getDate(),l=i.getHours(),r=i.getMinutes(),c=i.getSeconds();this.infos_sp[e].taketime=s+"-"+o+"-"+n+" "+l+":"+r+":"+c,console.log("看看时间"),console.log(i),console.log(this.infos_sp)},goto_detail:function(t){console.log("跳转到详细页面"),uni.navigateTo({url:"/pages/order/order_detail?paytime="+t.paytime})}}};e.default=i},b009:function(t,e,a){"use strict";a.r(e);var i=a("aa49"),s=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},dbd8:function(t,e,a){"use strict";a.r(e);var i=a("f196"),s=a("b009");for(var o in s)"default"!==o&&function(t){a.d(e,t,(function(){return s[t]}))}(o);a("e750");var n,l=a("f0c5"),r=Object(l["a"])(s["default"],i["b"],i["c"],!1,null,"02538ae8",null,!1,i["a"],n);e["default"]=r.exports},e750:function(t,e,a){"use strict";var i=a("17a3"),s=a.n(i);s.a},f196:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.key?i("v-uni-view",[t.cstm_or_sp?i("v-uni-view",{staticClass:"all_block"},t._l(t.infos,(function(e){return i("div",{staticClass:"out_block"},[i("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goto_detail(e)}}},[i("div",{staticClass:"first_line"},[i("div",{staticStyle:{display:"flex"}},[i("img",{staticClass:"img_style",attrs:{src:e.logo_shop,mode:""}}),i("p",{staticClass:"p_1"},[t._v(t._s(e.name_shop)+">")])]),i("p",{staticClass:"p_2"},[t._v(t._s(e.delivered))])]),i("div",{staticClass:"line"}),i("div",{staticClass:"content"},[t._l(e.goods,(function(e){return i("div",{staticClass:"img_block1"},[i("div",[i("img",{staticClass:"imgkiddingme",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:e.logo}}),i("p",{staticClass:"des"},[t._v(t._s(e.name))])]),i("div",{staticClass:"line"})])})),i("div",[i("p",{staticClass:"order_time"},[t._v("下单时间"+t._s(e.paytime))]),i("p",{staticClass:"total",staticStyle:{position:"relative",left:"500rpx",top:"-41rpx"}},[t._v("￥\n\t\t\t\t\t\t\t\t"+t._s(e.sumprice))])])],2)]),i("v-uni-view",{staticClass:"two_btn",staticStyle:{display:"flex"}},[0===e.code_comment?i("div",["已送达"===e.delivered?i("v-uni-button",{staticClass:"com_style",attrs:{size:"mini"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.comment(e)}}},[t._v("评论")]):t._e()],1):t._e(),i("v-uni-button",{staticClass:"btn_style",attrs:{size:"mini"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.restart(e)}}},[t._v("再来一单")])],1)],1)})),0):t._e(),1!=t.cstm_or_sp?i("v-uni-view",t._l(t.infos_sp,(function(e,s){return i("div",{staticClass:"out_block"},[i("v-uni-view",[i("div",{staticClass:"first_line"},[i("p",{staticClass:"p_1"},[t._v(t._s(e.customername))]),i("p",{staticClass:"p_2"},[t._v(t._s(e.delivered))])]),i("v-uni-view",{staticStyle:{display:"flex"}},[i("img",{staticClass:"des_icon",attrs:{src:a("02ac")}}),i("v-uni-view",{staticClass:" destination"},[t._v(t._s(e.destination))])],1),i("div",{staticClass:"line"}),i("div",{staticClass:"content"},[t._l(e.goods,(function(e){return i("div",{staticClass:"img_block2",staticStyle:{display:"flex"}},[i("img",{staticClass:"imgkiddingme",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:e.logo}}),i("div",{staticClass:"second_block"},[i("v-uni-view",{staticClass:"des1"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"des2"},[t._v("x"+t._s(e.count))]),i("v-uni-view",{staticClass:"des3"},[t._v("￥"+t._s(e.price))])],1)])})),i("div",{staticClass:"line"}),i("div",[i("p",{staticClass:"total",staticStyle:{position:"relative",left:"395rpx",top:"15rpx"}},[t._v("总金额 ￥\n\t\t\t\t\t\t\t\t"+t._s(e.sumprice))]),i("div",{staticClass:"line"}),i("p",{staticClass:"order_time1"},[t._v("下单时间:"+t._s(e.paytime))]),i("p",{staticClass:"needy_time"},[t._v("配送时间:"+t._s(e.needytime)+"分钟")]),!0===t.rsp_status[s]?i("p",{staticClass:"take_time"},[t._v("接单时间:"+t._s(t.infos_sp[s].taketime))]):t._e()])],2)],1),!1===t.rsp_status[s]?i("v-uni-button",{staticClass:"btn_resp",attrs:{size:"mini"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.response(e,s)}}},[t._v("响应订单")]):t._e(),!0===t.rsp_status[s]?i("v-uni-button",{staticClass:"btn_responded",attrs:{size:"mini"}},[t._v("已响应")]):t._e()],1)})),0):t._e()],1):t._e(),t.key_not?i("v-uni-view",[i("v-uni-image",{staticClass:"grape",attrs:{src:a("2e0f")}}),i("p",{staticClass:"warning"},[t._v("您还没有登录，请登录后查看订单")]),i("v-uni-button",{staticClass:"login",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto()}}},[t._v("登录/注册")])],1):t._e()],1)},o=[]}}]);