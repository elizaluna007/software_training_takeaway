(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{"17a7":function(t,e,o){"use strict";(function(t){o("4d8d");n(o("66fd"));var e=n(o("6370"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(e.default)}).call(this,o("543d")["createPage"])},6370:function(t,e,o){"use strict";o.r(e);var n=o("8d7b"),a=o("a057");for(var i in a)"default"!==i&&function(t){o.d(e,t,(function(){return a[t]}))}(i);o("925a");var s,c=o("f0c5"),u=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);e["default"]=u.exports},"8d7b":function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c},i=[]},"925a":function(t,e,o){"use strict";var n=o("c98f"),a=o.n(n);a.a},a057:function(t,e,o){"use strict";o.r(e);var n=o("b999"),a=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=a.a},b999:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("b43d"),a={data:function(){return{key:"",button_key:"",login_on:o("8a2c"),login_no:o("3b9a"),info:"",change_key:!1,change_no_key:!0,update_info:{name:"",sex:"",address:"",birthday:"",phone:"",headphoto:""},change_pwd_key:!1,pre_pwd:"",new_pwd:""}},methods:{goto:function(e){t.navigateTo({url:"/pages/login/login_username"})},logout:function(){getApp().globalData.login_key=!1,this.key=!1,this.button_key=!0},change:function(){this.change_key=!0,this.change_no_key=!1},save:function(){t.request({method:"POST",url:"https://v3710z5658.oicp.vip/customer/changeCustomerInfo",data:{name:this.info.name,sex:this.info.sex,defaultaddress:this.info.address,birthday:this.info.birthday,phone:this.info.phone,headphoto:this.info.headphoto},header:{token:getApp().globalData.token},success:function(e){t.showToast({title:"修改成功",icon:"exception",duration:850})}})},change_passward:function(){this.change_pwd_key=!this.change_pwd_key},update_passward:function(){var e=this;console.log("开始发送密码信息"),t.request({method:"POST",url:"https://v3710z5658.oicp.vip/customer/ChangePassword",data:{pre_pwd:this.pre_pwd,new_pwd:this.new_pwd},header:{token:getApp().globalData.token},success:function(o){e.change_pwd_key=0,console.log("开始打印修改密码信息"),console.log(o),1==o.data.code?(getApp().globalData.token=o.data.Oauth_Token,t.showToast({title:"修改成功",icon:"exception",duration:850})):t.showToast({title:"修改失败",icon:"error",duration:850})}})},upload_img:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(o){console.log("选取图片成功");var a=o.tempFilePaths;(0,n.pathToBase64)(a[0]).then((function(o){e.avatar=o,t.request({url:"https://v3710z5658.oicp.vip/customer/changeHeadphoto",method:"POST",data:{headphoto:JSON.stringify(o)},header:{token:getApp().globalData.token},success:function(t){console.log("接收成功")}})})).catch((function(t){console.error(t)}))}})}},onLoad:function(){var e=this;this.key=getApp().globalData.login_key,this.button_key=!this.key,1==this.key&&t.request({method:"GET",url:"https://v3710z5658.oicp.vip/customer/getCustomerInfo",data:{},header:{token:getApp().globalData.token},success:function(t){e.info=t.data}})},onShow:function(){var e=this;this.key=getApp().globalData.login_key,this.button_key=!this.key,1==this.key&&t.request({method:"GET",url:"https://v3710z5658.oicp.vip/customer/getCustomerInfo",data:{},header:{token:getApp().globalData.token},success:function(t){e.info=t.data}})}};e.default=a}).call(this,o("543d")["default"])},c98f:function(t,e,o){}},[["17a7","common/runtime","common/vendor"]]]);